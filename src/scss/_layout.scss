/* ---------- Header ---------- */
.portal__header {
  max-width: var(--container);
  margin: 28px auto 18px;
  padding: 22px clamp(18px, 2.2vw, 28px);
  border: var(--container-border);
  border-radius: var(--radius);
  background: linear-gradient(180deg, rgb(255 255 255 / 5%), rgb(255 255 255 / 2%));
  box-shadow: var(--container-shadow);
}

.portal__title {
  margin: 0;
  font-size: clamp(28px, 3.6vw, 44px);
  letter-spacing: 0.6px;
  text-shadow: 0 0 14px color-mix(in srgb, var(--cyan), transparent 65%);
}

.portal__subtitle {
  margin: 8px 0 0;
  color: var(--muted);
  max-width: 70ch;
}

/* ---------- Navigation ---------- */
.portal__nav {
  margin-top: 16px;
}

.portal__nav-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-flow: row wrap;
  gap: 10px;
  align-items: center;
}

.portal__nav-link {
  justify-content: center;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  width: auto;
  flex: none;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--violet), transparent 65%);
  background: color-mix(in srgb, var(--violet), transparent 93%);
  box-shadow: 0 0 14px color-mix(in srgb, var(--violet), transparent 88%);
  color: var(--text);
  text-decoration: none;
  transition: var(--transition-smooth);

  &:hover,
  &:focus-visible {
    transform: translateY(-1px);
    border-color: color-mix(in srgb, var(--accent-gold), transparent 35%);
    background: color-mix(in srgb, var(--magenta), transparent 90%);
    box-shadow: 0 0 18px color-mix(in srgb, var(--accent-gold), transparent 76%);
    text-decoration: none;
  }

  &:focus-visible {
    outline: 2px solid color-mix(in srgb, var(--accent-gold), transparent 25%);
    outline-offset: 3px;
    box-shadow: 0 0 20px color-mix(in srgb, var(--accent-gold), transparent 72%);
  }

  &[aria-current="page"] {
    border-color: color-mix(in srgb, var(--accent-gold), transparent 15%);
    background: color-mix(in srgb, var(--magenta), transparent 90%);
    box-shadow: 0 0 18px color-mix(in srgb, var(--accent-gold), transparent 68%);
    color: var(--accent-gold);
  }
}

/* ---------- Layout (Grid) ---------- */
.portal__layout {
  max-width: var(--container);
  margin: 0 auto 22px;
  padding: 0 clamp(18px, 2.2vw, 28px);
  display: grid;
  gap: 16px;
}

/* Tablet/Laptop: sidebar + content */
@media (width >= 1024px) {
  .portal__layout {
    gap: 20px;
    grid-template-columns: 300px 1fr;
  }

  .portal__nav-list {
    flex-direction: column;
    align-items: stretch;
  }

  .portal__nav-link {
    width: 100%;
  }

  .portal__aside {
    height: fit-content;
  }

  .portal__aside--sticky {
    position: sticky;
    top: 24px;
    max-height: calc(100vh - 48px);
    overflow-y: auto;
  }
}

/* Large Desktop */
@media (width >= 1400px) {
  :root {
    --max: 1600px;
  }

  .portal__layout {
    grid-template-columns: 360px 1fr;
  }
}

/* ---------- Aside ---------- */
.portal__aside {
  border: var(--container-border);
  border-radius: var(--radius);
  background: var(--container-bg);
  box-shadow: var(--container-shadow);
  padding: 18px;
  min-width: 0;

  /* Espaçamento entre seções */
  nav + section h2,
  section + section h2,
  nav + nav h2,
  section + nav h2 {
    margin-top: 18px;
    padding-top: 14px;
    border-top: 1px solid rgb(255 255 255 / 10%);
  }

  .course__doc-title {
    margin-top: 4px;
  }
}

.aside__samples-button,
.aside__top-button {
  margin-bottom: 16px;
  padding-bottom: 14px;
  border-bottom: 1px solid rgb(255 255 255 / 10%);

  .btn {
    width: 100%;
  }
}

.aside__samples-button .btn {
  background: linear-gradient(135deg, color-mix(in srgb, var(--cyan), transparent 88%), color-mix(in srgb, var(--violet), transparent 90%));
  border-color: color-mix(in srgb, var(--cyan), transparent 55%);
}

.aside__top-button .btn--nav {
  border-radius: 999px;
}

/* Títulos do Aside */
.course__navegate-title,
.course__doc-title,
.course__guide-title,
.course__prereq-title,
.doc-info__title,
.module-guide__title,
.module-meta__title,
.module-nav__title,
.module__title {
  margin: 0 0 10px;
  font-size: 18px;
  letter-spacing: 0.4px;
  color: var(--text);
  padding-top: 0;
  border-top: 0;
}

/* ---------- Main ---------- */
.portal__main {
  border: var(--container-border);
  border-radius: var(--radius);
  background: var(--container-bg);
  box-shadow: var(--container-shadow);
  padding: 20px;
  min-width: 0;
}

/* ---------- Footer ---------- */
.portal__footer {
  max-width: var(--container);
  margin: 0 auto 30px;
  padding: 0 18px;
  color: var(--muted);
  text-align: center;
}

.portal__footer-text { margin: 12px 0 4px; }

.portal__footer-notice {
  margin: 0;
  color: color-mix(in srgb, var(--magenta), transparent 15%);
  text-shadow: 0 0 12px color-mix(in srgb, var(--magenta), transparent 80%);
}